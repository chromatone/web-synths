import * as vite from 'vite';
import * as vitepress_dist_node from 'vitepress/dist/node';
import { DefaultTheme, UserConfigExport } from 'vitepress';
import { VitePWAOptions } from 'vite-plugin-pwa';

interface PwaOptions extends Partial<VitePWAOptions> {
    experimental?: {
        /**
         * When using `generateSW` strategy, include the logic to handle the `workbox.navigateFallbackAllowlist` option.
         *
         * @see https://github.com/vite-pwa/vitepress/issues/22
         *
         * @default false
         */
        includeAllowlist?: boolean;
    };
}
declare module 'vitepress' {
    interface UserConfig {
        pwa?: PwaOptions;
    }
}

declare function withPwa<T = DefaultTheme.Config>(config: UserConfigExport<T>): Promise<vitepress_dist_node.UserConfig<T> | ((ctx: vite.ConfigEnv) => Promise<vitepress_dist_node.UserConfig<T>>)>;

export { type PwaOptions, withPwa };
