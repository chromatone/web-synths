import{u as b,b as p,_ as w}from"./useItems.Bc4W6qgz.js";import{r as h,w as S,o as C,b as r,d as s,g as t,e as B,x as m,v as N,a0 as $,n as z,y as v,T as V,q as u,i as D,A as L,t as i,h as y,a1 as T,f as A,$ as F,a2 as I}from"./framework.DDULGoVp.js";const q={class:"flex flex-col gap-4 bg-light-300 dark-bg-dark-300 rounded-lg shadow-xl overflow-hidden mx-auto relative mb-0"},E={class:"h-85vh h-85svh"},M=["title","src"],P={class:"px-2"},_={class:"flex flex-col p-4 gap-1 bottom-0 bg-light-100 dark-bg-dark-800 w-full max-w-180 mx-auto relative bg-op-90 backdrop-blur dark-bg-op-90 rounded"},j={class:"text-xl flex items-center gap-4"},G={class:"font-bold"},H={class:"p-0 flex gap-4"},J=["href"],K={class:"px-2 py-0 bg-light-800 dark-bg-dark-800 rounded-xl transition text-sm select-none text-center z-200 flex items-center gap-1 opacity-40 hover-opacity-100 transition"},O={key:0,class:"flex-1 flex items-end flex flex-wrap gap-2"},Q={key:1,class:"p-0"},W={__name:"SynthPage",props:{title:{type:String,default:""},description:{type:String,default:""},author:{type:String,default:""},author_link:{type:String,default:""},cover:{type:String,default:""},slug:{type:String,default:""},url:{type:String,default:""},tags:{type:Array,default:[]},archive:{type:Boolean,default:!1},archive_link:{type:String,default:""},iframe:{type:Boolean,default:!1},clicks:{type:Number,default:0},id:{type:Number,default:0}},setup(e){const d=e,n=h(!1),{clickSynth:k,clicksCount:c}=b(d.id);S(()=>d.clicks,l=>c.value=l,{immediate:!0});const f=h(0);return C(async()=>{await k();let l=await p("synth_stats",d.id);f.value=(l==null?void 0:l.stars)||0}),(l,a)=>{var g;const x=w;return s(),r("div",q,[t("div",E,[B(t("div",{class:z(["h-90vh h-90svh bg-cover bg-center absolute z-100 w-full",{"animate-pulse":e.iframe&&!n.value}]),onClick:a[0]||(a[0]=o=>n.value=!0),style:$({backgroundImage:`url(/cover/${e.slug}.webp)`})},null,6),[[N,!n.value]]),m(V,{name:"fade"},{default:v(()=>[t("iframe",{class:"w-full h-90vh h-90svh bg-light-100 dark-bg-dark-800 fixed top-0",allow:"midi;microphone;accelerometer;autoplay;camera;fullscreen;gyroscope;magnetometer;picture-in-picture;web-share;",onLoad:a[1]||(a[1]=o=>n.value=!0),title:e.title,src:e.archive?e.archive_link:e.url},null,40,M)]),_:1})]),t("div",P,[t("div",_,[t("div",j,[t("div",G,i(e.title),1),e.author?(s(),L(T(e.author_link?"a":"div"),{key:0,class:"text-lg font-300",target:"_blank",href:e.author_link},{default:v(()=>[y("by "+i(e.author),1)]),_:1},8,["href"])):u("",!0),a[2]||(a[2]=t("div",{class:"flex-auto"},null,-1)),m(x,{id:e.id,stars:f.value},null,8,["id","stars"])]),t("div",H,[t("a",{class:"my-2 font-mono text-sm",href:e.url,target:"_blank"},i(e.url),9,J),t("div",K,[y(i(A(c)),1),a[3]||(a[3]=t("div",{class:"i-la-eye"},null,-1))])]),((g=e.tags)==null?void 0:g.length)>0?(s(),r("div",O,[(s(!0),r(F,null,I(e.tags,o=>(s(),r("div",{class:"px-2 py-1 text-sm bg-light-800 dark-bg-dark-500 rounded-lg",key:o},i(o),1))),128))])):u("",!0),e.description?(s(),r("div",Q,i(e.description),1)):u("",!0),D(l.$slots,"default")])])])}}};export{W as _};
